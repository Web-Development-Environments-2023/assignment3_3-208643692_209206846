(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78065d6f"],{2413:function(e,t,n){},37906:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"title"},[e._v(" Search Recipes ")]),n("div",[n("div",{staticClass:"form"},[n("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.selection.search_string,expression:"selection.search_string"}],staticClass:"pl-3",attrs:{type:"text",placeholder:"Search here",id:"querystring"},domProps:{value:e.selection.search_string},on:{input:function(t){t.target.composing||e.$set(e.selection,"search_string",t.target.value)}}})])]),n("div",{staticClass:"d-flex pt-4",attrs:{id:"dropdowns"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selection.selected_cuisines,expression:"selection.selected_cuisines"}],attrs:{multiple:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selection,"selected_cuisines",t.target.multiple?n:n[0])}}},e._l(e.options.cuisines,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selection.selected_intolerances,expression:"selection.selected_intolerances"}],attrs:{multiple:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selection,"selected_intolerances",t.target.multiple?n:n[0])}}},e._l(e.options.intolerance,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selection.selected_diet,expression:"selection.selected_diet"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selection,"selected_diet",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("Any diet")]),e._l(e.options.diets,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selection.selected_amount,expression:"selection.selected_amount"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selection,"selected_amount",t.target.multiple?n:n[0])}}},e._l([5,10,15],(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selection.sorting,expression:"selection.sorting"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selection,"sorting",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("Select to sort")]),n("option",{attrs:{value:"Popularity (descending)"}},[e._v("Popularity (descending)")]),n("option",{attrs:{value:"Preparation time (ascending)"}},[e._v("Preparation time (ascending)")])])])]),n("div",{staticClass:"d-flex justify-content-center pt-3"},[n("button",{staticClass:"btn btn-success",on:{click:e.Submit}},[e._v("Search")])]),n("div",{staticClass:"resultsWrapper"},[e.did_search?n("RecipePreviewList",{class:{RandomRecipes:!0,blur:!e.$root.store.username,center:!0},attrs:{id:"searchResult",title:"Search Results",reqSource:e.search_query,sort:e.selection.sorting,disabled:""}}):e._e()],1)])},s=[],i=(n("a4d3"),n("e01a"),n("d28b"),n("277d"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0"),n("06c5"));function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(i["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(c)throw a}}}}n("96cf");var o=n("1da1"),c=n("99d8"),l={components:{RecipePreviewList:c["a"]},data:function(){return{options:{cuisines:[],diets:[],intolerance:[]},selection:{selected_diet:"",selected_cuisines:[],selected_intolerances:[],selected_amount:5,search_string:"",sorting:""},did_search:!1,search_query:""}},mounted:function(){this.getOptions(),this.search_query=localStorage.getItem("search_query"),null!=this.search_query?this.did_search=!0:this.search_query=""},methods:{getOptions:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get(e.$root.store.server_domain+"/recipes/Options/RecipeSearch",{withCredentials:!0});case 3:n=t.sent,r=n.data.cousines,s=n.data.diets,i=n.data.intolerances,e.options.cuisines=r,e.options.diets=s,e.options.intolerance=i,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},Submit:function(){var e=this;this.did_search=!1,this.$nextTick((function(){e.search_query="/recipes/searchRecipes?amount="+e.selection.selected_amount+"&search="+e.selection.search_string;var t,n=a(e.selection.selected_cuisines);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.search_query+="&cousine="+r}}catch(c){n.e(c)}finally{n.f()}""!=e.selection.selected_diet&&null!=e.selection.selected_diet&&(e.search_query+="&diet="+e.selection.selected_diet);var s,i=a(e.selection.selected_intolerances);try{for(i.s();!(s=i.n()).done;){var o=s.value;e.search_query+="&intollerances="+o}}catch(c){i.e(c)}finally{i.f()}localStorage.setItem("search_query",e.search_query);e.did_search=!0}))}}},u=l,d=(n("fb3f"),n("2877")),p=Object(d["a"])(u,r,s,!1,null,null,null);t["default"]=p.exports},fb3f:function(e,t,n){"use strict";var r=n("2413"),s=n.n(r);s.a}}]);
//# sourceMappingURL=chunk-78065d6f.b9fa2fb6.js.map